version: '3.8'

services:
  vetorial-etl:
    # AQUI MUDOU: Em vez de build, apontamos para onde a imagem vai estar
    # Substitua SEU_USUARIO pelo seu user do GitHub (tudo minúsculo)
    image: covillabs/etl-vetorial-meta:latest
    
    restart: always
    
    # Removemos o container_name fixo (o Portainer gera um nome dinâmico)
    
    environment:
      - TZ=America/Sao_Paulo
      # As variáveis do .env serão injetadas pelo Portainer
      - META_ACCESS_TOKEN=${META_ACCESS_TOKEN}
      - META_AD_ACCOUNT_IDS=${META_AD_ACCOUNT_IDS}
      - DB_HOST=${DB_HOST}
      - DB_PORT=${DB_PORT}
      - DB_NAME=${DB_NAME}
      - DB_USER=${DB_USER}
      - DB_PASS=${DB_PASS}